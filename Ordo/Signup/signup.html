<!DOCTYPE html>
<html lang="ko">
  <head>
    <!-- ë¬¸ì„œ ë©”íƒ€ ì •ë³´ ì„¤ì • -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ordo - Sign up</title>
    
    <!-- ìŠ¤íƒ€ì¼ì‹œíŠ¸ ë° í°íŠ¸ ì—°ê²° -->
    <link rel="stylesheet" href="/Signup/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Cutive:wght@400&family=Inter:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    
    <!-- ì»¤ìŠ¤í…€ í°íŠ¸ ì •ì˜ -->
    <style>
      @font-face {
        font-family: "Freesentation";
        src: url("/font/Freesentation.ttf") format("truetype");
      }
    </style>
  </head>
  <body class="loaded">
    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ - ì™¼ìª½ ë¸Œëœë”© ì„¹ì…˜ê³¼ ì˜¤ë¥¸ìª½ íšŒì›ê°€ì… í¼ìœ¼ë¡œ êµ¬ì„± -->
    <div class="container">
      <!-- í…Œë§ˆ ë³€ê²½ ë²„íŠ¼ (ë‹¤í¬ëª¨ë“œ/ë¼ì´íŠ¸ëª¨ë“œ ì „í™˜) -->
      <button id="themeToggle" class="theme-toggle" title="ë‹¤í¬ëª¨ë“œ í† ê¸€">
        <span class="theme-icon">ğŸŒ™</span>
      </button>

      <!-- ì™¼ìª½ ë¸Œëœë”© ì„¹ì…˜: Ordo ë¡œê³ ì™€ ë¸Œëœë“œ ë©”ì‹œì§€ í‘œì‹œ -->
      <div class="branding-section">
        <div class="brand-content">
          <!-- ë¸Œëœë“œ í—¤ë”: ë¡œê³ ì™€ ì œëª© -->
          <div class="brand-header">
            <img src="/Login/image-8.png" alt="Ordo Logo" class="brand-logo" />
            <h1 class="brand-title font-cutive">Ordo</h1>
          </div>
          
          <!-- ë¸Œëœë“œ ìŠ¬ë¡œê±´ -->
          <h2 class="brand-headline">
            <span class="font-cutive">Your life,</span><br />
            <span class="highlight font-cutive">more organized</span>
          </h2>
          
          <!-- ë¸Œëœë“œ ì„¤ëª… í…ìŠ¤íŠ¸ -->
          <p class="brand-description">
            AIê°€ ì •ë¦¬í•˜ê³ , ë‹¹ì‹ ì€ ì§‘ì¤‘í•˜ì„¸ìš”.<br />
            ì²´ê³„ì ì´ê³  íš¨ìœ¨ì ì¸ ì¼ìƒì„ ì‹œì‘í•´ë³´ì„¸ìš”.
          </p>
        </div>
      </div>

      <!-- ì˜¤ë¥¸ìª½ íšŒì›ê°€ì… í¼ ì„¹ì…˜ -->
      <div class="form-section">
        <div class="signup-card">
          <!-- íšŒì›ê°€ì… ì œëª© ë° ì•ˆë‚´ ë©”ì‹œì§€ -->
          <div class="signup-header">
            <h2 class="signup-title">
              <span class="font-cutive" style="color: #c96342"
                >Create account</span
              >
            </h2>
            <p class="signup-subtitle">Ordoì™€ í•¨ê»˜ ìƒˆë¡œìš´ ì‹œì‘ì„ í•´ë³´ì„¸ìš”</p>
          </div>

          <!-- íšŒì›ê°€ì… ì…ë ¥ í¼ -->
          <form id="signupForm" class="signup-form">
            <!-- ì´ë¦„ ì…ë ¥ í•„ë“œ -->
            <div class="form-group">
              <label for="name">ì´ë¦„</label>
              <div class="input-wrapper">
                <span class="input-icon">ğŸ‘¤</span>
                <input
                  type="text"
                  id="name"
                  name="name"
                  placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
                  required
                />
              </div>
            </div>

            <!-- ì´ë©”ì¼ ì…ë ¥ í•„ë“œ -->
            <div class="form-group">
              <label for="email">ì´ë©”ì¼</label>
              <div class="input-wrapper">
                <span class="input-icon">ğŸ“§</span>
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"
                  required
                />
              </div>
            </div>

            <!-- ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ ë° ê°•ë„ í‘œì‹œ -->
            <div class="form-group">
              <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
              <div class="input-wrapper">
                <span class="input-icon">ğŸ”’</span>
                <input
                  type="password"
                  id="password"
                  name="password"
                  placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                  required
                />
                <!-- ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€ ë²„íŠ¼ -->
                <button
                  type="button"
                  class="password-toggle"
                  id="passwordToggle"
                >
                  ğŸ‘ï¸
                </button>
              </div>
              <!-- ë¹„ë°€ë²ˆí˜¸ ê°•ë„ í‘œì‹œ ë°” -->
              <div class="password-strength">
                <div class="strength-bar">
                  <div class="strength-fill"></div>
                </div>
                <span class="strength-text">ë¹„ë°€ë²ˆí˜¸ ê°•ë„</span>
              </div>
            </div>

            <!-- ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì…ë ¥ í•„ë“œ -->
            <div class="form-group">
              <label for="confirmPassword">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
              <div class="input-wrapper">
                <span class="input-icon">ğŸ”</span>
                <input
                  type="password"
                  id="confirmPassword"
                  name="confirmPassword"
                  placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”"
                  required
                />
                <!-- ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€ ë²„íŠ¼ -->
                <button
                  type="button"
                  class="password-toggle"
                  id="confirmPasswordToggle"
                >
                  ğŸ‘ï¸
                </button>
              </div>
              <!-- ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ ì—¬ë¶€ í‘œì‹œ -->
              <div class="password-match" id="passwordMatch"></div>
            </div>

            <!-- ì´ìš©ì•½ê´€ ë™ì˜ ì²´í¬ë°•ìŠ¤ -->
            <div class="form-options">
              <label class="terms-agree">
                <input type="checkbox" id="agreeTerms" required />
                <span class="checkmark"></span>
                <span class="terms-text">
                  <a
                    href="#"
                    class="terms-link"
                    onclick="showTermsMessage(event)"
                    >ì´ìš©ì•½ê´€</a
                  >
                  ë°
                  <a
                    href="#"
                    class="privacy-link"
                    onclick="showPrivacyMessage(event)"
                    >ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a
                  >ì— ë™ì˜í•©ë‹ˆë‹¤
                </span>
              </label>
            </div>

            <!-- íšŒì›ê°€ì… ì œì¶œ ë²„íŠ¼ -->
            <button type="submit" class="signup-btn">
              <span class="btn-text font-cutive">Create account</span>
              <div class="btn-loader"></div>
            </button>
          </form>

          <!-- êµ¬ë¶„ì„  -->
          <div class="divider">
            <span class="font-cutive">or</span>
          </div>

          <!-- ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ë“¤ -->
          <div class="social-signup">
            <!-- êµ¬ê¸€ íšŒì›ê°€ì… ë²„íŠ¼ -->
            <button
              class="social-btn google-btn"
              onclick="location.href='/auth/google'"
            >
              <img src="/Login/logo-google-g-icon-1.svg" alt="Google" />
              <span class="font-cutive">Continue with Google</span>
            </button>

            <!-- ì¹´ì¹´ì˜¤ íšŒì›ê°€ì… ë²„íŠ¼ -->
            <button class="social-btn kakao-btn" onclick="signupWithKakao()">
              <img src="/Login/KakaoTalk_logo.svg" alt="Kakao" />
              <span>Kakaoë¡œ ê³„ì†í•˜ê¸°</span>
            </button>
          </div>

          <!-- ê¸°ì¡´ ê³„ì • ë¡œê·¸ì¸ ë§í¬ -->
          <div class="login-section">
            <p class="login-text">
              <span class="font-cutive">Already have an account?</span>
              <a href="/Login/email-login.html" class="login-link font-cutive"
                >Sign in</a
              >
            </p>
          </div>
        </div>
      </div>

      <!-- ë°°ê²½ ì¥ì‹ ìš”ì†Œë“¤ (ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ìœ„í•œ ì›í˜• ì¥ì‹) -->
      <div class="bg-decoration">
        <div class="decoration-circle circle-1"></div>
        <div class="decoration-circle circle-2"></div>
        <div class="decoration-circle circle-3"></div>
      </div>
    </div>

    <!-- ë¡œë”© ìƒíƒœ í‘œì‹œ ì˜¤ë²„ë ˆì´ -->
    <div id="loadingOverlay" class="loading-overlay">
      <div class="loading-spinner"></div>
      <p class="loading-text">íšŒì›ê°€ì… ì¤‘...</p>
    </div>

    <!-- ì•Œë¦¼ ë©”ì‹œì§€ ëª¨ë‹¬ -->
    <div id="alertModal" class="alert-modal">
      <div class="alert-content">
        <div class="alert-icon">âš ï¸</div>
        <h3 id="alertTitle">ì•Œë¦¼</h3>
        <p id="alertMessage">ë©”ì‹œì§€</p>
        <button id="alertOk" class="alert-btn">í™•ì¸</button>
      </div>
    </div>

    <script>
      // ==================== ì „ì—­ ë³€ìˆ˜ ë° ì´ˆê¸°í™” ====================
      
      /**
       * í˜„ì¬ í…Œë§ˆ ìƒíƒœ ê´€ë¦¬ (light/dark)
       * localStorageì—ì„œ ì €ì¥ëœ í…Œë§ˆë¥¼ ë¶ˆëŸ¬ì˜¤ê±°ë‚˜ ê¸°ë³¸ê°’ìœ¼ë¡œ light ì‚¬ìš©
       */
      let currentTheme = localStorage.getItem("theme") || "light";

      /**
       * í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ ì‹œ ì‹¤í–‰ë˜ëŠ” ì´ˆê¸°í™” í•¨ìˆ˜
       * í…Œë§ˆ ì ìš©, íšŒì›ê°€ì… ê¸°ëŠ¥ ì´ˆê¸°í™”, ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™” ë“±ì„ ìˆ˜í–‰
       */
      document.addEventListener("DOMContentLoaded", () => {
        applyTheme(currentTheme);
        initializeSignup();
        initializeScrollAnimations();

        // í˜ì´ì§€ ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ ì²˜ë¦¬
        setTimeout(() => {
          document.body.classList.remove("loading");
          document.body.classList.add("loaded");
        }, 100);
      });

      // ==================== í…Œë§ˆ ê´€ë¦¬ í•¨ìˆ˜ ====================
      
      /**
       * ì„ íƒëœ í…Œë§ˆë¥¼ í˜ì´ì§€ì— ì ìš©í•˜ëŠ” í•¨ìˆ˜
       * @param {string} theme - ì ìš©í•  í…Œë§ˆ ('light' ë˜ëŠ” 'dark')
       */
      function applyTheme(theme) {
        // HTML ë¬¸ì„œì— í…Œë§ˆ ì†ì„± ì„¤ì •
        document.documentElement.setAttribute("data-theme", theme);
        
        // í…Œë§ˆ í† ê¸€ ë²„íŠ¼ì˜ ì•„ì´ì½˜ ë³€ê²½ (ë‹¬ â†’ í•´, í•´ â†’ ë‹¬)
        const themeIcon = document.querySelector(".theme-icon");
        if (themeIcon) {
          themeIcon.textContent = theme === "dark" ? "â˜€ï¸" : "ğŸŒ™";
        }
        
        // ì„ íƒëœ í…Œë§ˆë¥¼ localStorageì— ì €ì¥
        localStorage.setItem("theme", theme);
      }

      // ==================== íšŒì›ê°€ì… ê¸°ëŠ¥ ì´ˆê¸°í™” ====================
      
      /**
       * íšŒì›ê°€ì… í˜ì´ì§€ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì´ˆê¸°í™”í•˜ëŠ” í•¨ìˆ˜
       * ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡, ë¹„ë°€ë²ˆí˜¸ ê´€ë ¨ ê¸°ëŠ¥ ì„¤ì • ë“±
       */
      function initializeSignup() {
        // í…Œë§ˆ í† ê¸€ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        const themeToggle = document.getElementById("themeToggle");
        if (themeToggle) {
          themeToggle.addEventListener("click", () => {
            // í˜„ì¬ í…Œë§ˆì™€ ë°˜ëŒ€ í…Œë§ˆë¡œ ë³€ê²½
            currentTheme = currentTheme === "light" ? "dark" : "light";
            applyTheme(currentTheme);
          });
        }

        // ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€ ê¸°ëŠ¥ ì„¤ì •
        setupPasswordToggle("passwordToggle", "password");
        setupPasswordToggle("confirmPasswordToggle", "confirmPassword");

        // ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ì²´í¬ ê¸°ëŠ¥ ì„¤ì •
        const passwordInput = document.getElementById("password");
        if (passwordInput) {
          passwordInput.addEventListener("input", checkPasswordStrength);
        }

        // ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ í™•ì¸ ê¸°ëŠ¥ ì„¤ì •
        const confirmPasswordInput = document.getElementById("confirmPassword");
        if (confirmPasswordInput) {
          confirmPasswordInput.addEventListener("input", checkPasswordMatch);
        }

        // íšŒì›ê°€ì… í¼ ì œì¶œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        const signupForm = document.getElementById("signupForm");
        if (signupForm) {
          signupForm.addEventListener("submit", handleSignup);
        }

        // ì…ë ¥ í•„ë“œ í¬ì»¤ìŠ¤ íš¨ê³¼ ì„¤ì •
        const inputs = document.querySelectorAll("input");
        inputs.forEach((input) => {
          // ì…ë ¥ í•„ë“œì— í¬ì»¤ìŠ¤ ì‹œ ìŠ¤íƒ€ì¼ ë³€ê²½
          input.addEventListener("focus", () => {
            input.parentElement.classList.add("focused");
          });

          // ì…ë ¥ í•„ë“œì—ì„œ í¬ì»¤ìŠ¤ í•´ì œ ì‹œ ìŠ¤íƒ€ì¼ ë³µì› (ê°’ì´ ì—†ëŠ” ê²½ìš°)
          input.addEventListener("blur", () => {
            if (!input.value) {
              input.parentElement.classList.remove("focused");
            }
          });
        });
      }

      // ==================== ë¹„ë°€ë²ˆí˜¸ ê´€ë ¨ ê¸°ëŠ¥ ====================
      
      /**
       * ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€ ê¸°ëŠ¥ì„ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜
       * @param {string} toggleId - í† ê¸€ ë²„íŠ¼ì˜ ID
       * @param {string} inputId - ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œì˜ ID
       */
      function setupPasswordToggle(toggleId, inputId) {
        const toggle = document.getElementById(toggleId);
        const input = document.getElementById(inputId);

        if (toggle && input) {
          toggle.addEventListener("click", () => {
            // í˜„ì¬ ì…ë ¥ íƒ€ì…ì— ë”°ë¼ password â†” text ì „í™˜
            const type =
              input.getAttribute("type") === "password" ? "text" : "password";
            input.setAttribute("type", type);
            
            // ì•„ì´ì½˜ë„ í•¨ê»˜ ë³€ê²½ (ëˆˆ â†’ ë‹«íŒ ëˆˆ)
            toggle.textContent = type === "password" ? "ğŸ‘ï¸" : "ğŸ™ˆ";
          });
        }
      }

      /**
       * ë¹„ë°€ë²ˆí˜¸ ê°•ë„ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²´í¬í•˜ê³  í‘œì‹œí•˜ëŠ” í•¨ìˆ˜
       * ê¸¸ì´, ëŒ€ì†Œë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì í¬í•¨ ì—¬ë¶€ì— ë”°ë¼ ê°•ë„ ê²°ì •
       */
      function checkPasswordStrength() {
        const password = document.getElementById("password").value;
        const strengthBar = document.querySelector(".strength-fill");
        const strengthText = document.querySelector(".strength-text");

        let strength = 0;
        let text = "ë§¤ìš° ì•½í•¨";
        let color = "#f44336";

        // ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ì¡°ê±´ ì²´í¬
        if (password.length >= 8) strength++; // 8ì ì´ìƒ
        if (/[a-z]/.test(password)) strength++; // ì†Œë¬¸ì í¬í•¨
        if (/[A-Z]/.test(password)) strength++; // ëŒ€ë¬¸ì í¬í•¨
        if (/[0-9]/.test(password)) strength++; // ìˆ«ì í¬í•¨
        if (/[^A-Za-z0-9]/.test(password)) strength++; // íŠ¹ìˆ˜ë¬¸ì í¬í•¨

        // ê°•ë„ì— ë”°ë¥¸ í…ìŠ¤íŠ¸ì™€ ìƒ‰ìƒ ì„¤ì •
        switch (strength) {
          case 0:
          case 1:
            text = "ë§¤ìš° ì•½í•¨";
            color = "#f44336";
            break;
          case 2:
            text = "ì•½í•¨";
            color = "#ff9800";
            break;
          case 3:
            text = "ë³´í†µ";
            color = "#ffeb3b";
            break;
          case 4:
            text = "ê°•í•¨";
            color = "#8bc34a";
            break;
          case 5:
            text = "ë§¤ìš° ê°•í•¨";
            color = "#4caf50";
            break;
        }

        // ê°•ë„ ë°”ì™€ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        strengthBar.style.width = `${(strength / 5) * 100}%`;
        strengthBar.style.backgroundColor = color;
        strengthText.textContent = `ë¹„ë°€ë²ˆí˜¸ ê°•ë„: ${text}`;
        strengthText.style.color = color;
      }

      /**
       * ë¹„ë°€ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í•„ë“œì˜ ì¼ì¹˜ ì—¬ë¶€ë¥¼ ì²´í¬í•˜ëŠ” í•¨ìˆ˜
       */
      function checkPasswordMatch() {
        const password = document.getElementById("password").value;
        const confirmPassword =
          document.getElementById("confirmPassword").value;
        const matchDiv = document.getElementById("passwordMatch");

        // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í•„ë“œê°€ ë¹„ì–´ìˆìœ¼ë©´ ë©”ì‹œì§€ í‘œì‹œ ì•ˆ í•¨
        if (confirmPassword === "") {
          matchDiv.textContent = "";
          return;
        }

        // ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ ì—¬ë¶€ì— ë”°ë¥¸ ë©”ì‹œì§€ í‘œì‹œ
        if (password === confirmPassword) {
          matchDiv.textContent = "âœ… ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•©ë‹ˆë‹¤";
          matchDiv.style.color = "#4caf50";
        } else {
          matchDiv.textContent = "âŒ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤";
          matchDiv.style.color = "#f44336";
        }
      }

      // ==================== íšŒì›ê°€ì… ì²˜ë¦¬ ====================
      
      /**
       * íšŒì›ê°€ì… í¼ ì œì¶œì„ ì²˜ë¦¬í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜
       * ì…ë ¥ê°’ ê²€ì¦, ì„œë²„ ìš”ì²­, ì‘ë‹µ ì²˜ë¦¬ ë“±ì„ ìˆ˜í–‰
       * @param {Event} e - í¼ ì œì¶œ ì´ë²¤íŠ¸ ê°ì²´
       */
      async function handleSignup(e) {
        e.preventDefault(); // ê¸°ë³¸ í¼ ì œì¶œ ë™ì‘ ë°©ì§€

        const name = document.getElementById("name").value;
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;
        const confirmPassword =
          document.getElementById("confirmPassword").value;
        const agreeTerms = document.getElementById("agreeTerms").checked;

        if (!name || !email || !password || !confirmPassword) {
          showAlert("ì…ë ¥ ì˜¤ë¥˜", "ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        if (password !== confirmPassword) {
          showAlert("ë¹„ë°€ë²ˆí˜¸ ì˜¤ë¥˜", "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
          return;
        }

        if (!agreeTerms) {
          showAlert(
            "ì•½ê´€ ë™ì˜",
            "ì´ìš©ì•½ê´€ ë° ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì— ë™ì˜í•´ì£¼ì„¸ìš”."
          );
          return;
        }

        showLoading(true);

        try {
          const response = await fetch("/api/signup", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              name,
              email,
              password,
            }),
          });

          const data = await response.json();

          if (response.ok) {
            // íšŒì›ê°€ì… ì„±ê³µ ì‹œ ìë™ ë¡œê·¸ì¸ ì²˜ë¦¬
            if (data.data && data.data.token && data.data.user) {
              // í† í°ê³¼ ì‚¬ìš©ì ì •ë³´ ì €ì¥
              localStorage.setItem("token", data.data.token);
              localStorage.setItem("user", JSON.stringify(data.data.user));

              console.log("íšŒì›ê°€ì… ì„±ê³µ - ìë™ ë¡œê·¸ì¸ ì²˜ë¦¬:", data.data.user);

              showAlert(
                "íšŒì›ê°€ì… ì™„ë£Œ",
                `í™˜ì˜í•©ë‹ˆë‹¤, ${data.data.user.name}ë‹˜! ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.`,
                () => {
                  window.location.href = "/Main/index.html";
                }
              );
            } else {
              // í† í°ì´ ì—†ìœ¼ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ
              showAlert(
                "íšŒì›ê°€ì… ì™„ë£Œ",
                "í™˜ì˜í•©ë‹ˆë‹¤! ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.",
                () => {
                  window.location.href = "/Login/email-login.html";
                }
              );
            }
          } else {
            showAlert(
              "íšŒì›ê°€ì… ì‹¤íŒ¨",
              data.message || "íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."
            );
          }
        } catch (error) {
          console.error("Signup error:", error);
          showAlert(
            "ì—°ê²° ì˜¤ë¥˜",
            "ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
          );
        } finally {
          showLoading(false);
        }
      }

      // ë¡œë”© í‘œì‹œ
      function showLoading(show) {
        const overlay = document.getElementById("loadingOverlay");
        const signupBtn = document.querySelector(".signup-btn");

        if (show) {
          overlay.classList.add("show");
          signupBtn.classList.add("loading");
          signupBtn.disabled = true;
        } else {
          overlay.classList.remove("show");
          signupBtn.classList.remove("loading");
          signupBtn.disabled = false;
        }
      }

      // ì•Œë¦¼ ëª¨ë‹¬
      function showAlert(title, message, callback) {
        const modal = document.getElementById("alertModal");
        const titleEl = document.getElementById("alertTitle");
        const messageEl = document.getElementById("alertMessage");
        const okBtn = document.getElementById("alertOk");

        titleEl.textContent = title;
        messageEl.textContent = message;
        modal.classList.add("show");

        okBtn.onclick = () => {
          modal.classList.remove("show");
          if (callback) callback();
        };
      }

      // ì¹´ì¹´ì˜¤ íšŒì›ê°€ì…
      function signupWithKakao() {
        showAlert("ì¤€ë¹„ ì¤‘", "ì¹´ì¹´ì˜¤ íšŒì›ê°€ì… ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.");
      }

      // ì´ìš©ì•½ê´€ ë©”ì‹œì§€
      function showTermsMessage(event) {
        event.preventDefault();
        showAlert(
          "ğŸ‰ ì´ìš©ì•½ê´€",
          "ìˆ˜í™˜, ë„í˜„, ê±´ìš°, ê°•ì¼ì´ì—ê²Œ 100ì ì„ ì£¼ê² ë‹¤ê³  ì•½ì†í•©ë‹ˆë‹¤!\n\n(ì§„ì§œ ì´ìš©ì•½ê´€ ê°™ì€ê±´ ì—†ì–´ìš” ğŸ˜„)"
        );
      }

      // ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë©”ì‹œì§€
      function showPrivacyMessage(event) {
        event.preventDefault();
        showAlert(
          "ğŸ‰ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨",
          "ìˆ˜í™˜, ë„í˜„, ê±´ìš°, ê°•ì¼ì´ì—ê²Œ 100ì ì„ ì£¼ê² ë‹¤ê³  ì•½ì†í•©ë‹ˆë‹¤!\n\n(ì§„ì§œ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ê°™ì€ê±´ ì—†ì–´ìš” ğŸ˜„)"
        );
      }

      // ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”
      function initializeScrollAnimations() {
        const logoImage = document.querySelector(".logo-image");
        const brandText = document.querySelector(".brand-text");
        const signupCard = document.querySelector(".signup-card");

        // Intersection Observer ì„¤ì •
        const observerOptions = {
          threshold: [0, 0.1, 0.3, 0.5, 0.7, 1],
          rootMargin: "-50px 0px -50px 0px",
        };

        const logoObserver = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            const ratio = entry.intersectionRatio;
            const target = entry.target;

            if (target === logoImage) {
              // ë¡œê³  ì´ë¯¸ì§€ ì• ë‹ˆë©”ì´ì…˜
              const rotation = ratio * 360;
              const scale = 0.5 + ratio * 0.5;
              const opacity = ratio;

              target.style.transform = `rotate(${rotation}deg) scale(${scale})`;
              target.style.opacity = opacity;
            }

            if (target === brandText) {
              // ë¸Œëœë“œ í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜
              const translateY = (1 - ratio) * 50;
              const opacity = ratio;

              target.style.transform = `translateY(${translateY}px)`;
              target.style.opacity = opacity;
            }
          });
        }, observerOptions);

        // ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•œ ë³„ë„ Observer
        const cardObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              const ratio = entry.intersectionRatio;
              const translateX = (1 - ratio) * 100;
              const opacity = ratio;
              const scale = 0.8 + ratio * 0.2;

              entry.target.style.transform = `translateX(${translateX}px) scale(${scale})`;
              entry.target.style.opacity = opacity;
            });
          },
          {
            threshold: [0, 0.2, 0.4, 0.6, 0.8, 1],
            rootMargin: "-100px 0px -100px 0px",
          }
        );

        // ìŠ¤í¬ë¡¤ ê¸°ë°˜ íŒ¨ëŸ´ë™ìŠ¤ íš¨ê³¼
        let ticking = false;

        function updateScrollAnimations() {
          const scrollY = window.scrollY;
          const windowHeight = window.innerHeight;
          const documentHeight = document.documentElement.scrollHeight;
          const scrollProgress = scrollY / (documentHeight - windowHeight);

          // ë°°ê²½ ì¥ì‹ ì›ë“¤ì˜ íŒ¨ëŸ´ë™ìŠ¤ íš¨ê³¼
          const circles = document.querySelectorAll(".decoration-circle");
          circles.forEach((circle, index) => {
            const speed = (index + 1) * 0.5;
            const yPos = scrollY * speed;
            const rotation = scrollProgress * 360 * (index + 1);

            circle.style.transform = `translateY(${yPos}px) rotate(${rotation}deg)`;
          });

          // ë¡œê³  ì¶”ê°€ íš¨ê³¼
          if (logoImage) {
            const logoRect = logoImage.getBoundingClientRect();
            const logoCenter = logoRect.top + logoRect.height / 2;
            const windowCenter = windowHeight / 2;
            const distance = Math.abs(logoCenter - windowCenter);
            const maxDistance = windowHeight / 2;
            const proximity = Math.max(0, 1 - distance / maxDistance);

            // ì¤‘ì•™ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ë” ë°ê²Œ
            const brightness = 1 + proximity * 0.3;
            const hueRotate = proximity * 20;

            logoImage.style.filter = `
              drop-shadow(0 8px 16px var(--shadow-color))
              brightness(${brightness})
              hue-rotate(${hueRotate}deg)
            `;
          }

          ticking = false;
        }

        function requestScrollUpdate() {
          if (!ticking) {
            requestAnimationFrame(updateScrollAnimations);
            ticking = true;
          }
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        window.addEventListener("scroll", requestScrollUpdate, {
          passive: true,
        });

        // Observer ë“±ë¡ (ë°ìŠ¤í¬í†±ì—ì„œë§Œ)
        if (!isMobile) {
          if (logoImage) logoObserver.observe(logoImage);
          if (brandText) logoObserver.observe(brandText);
          if (signupCard) cardObserver.observe(signupCard);
        }

        // ì´ˆê¸° ìƒíƒœ ì„¤ì • (ëª¨ë°”ì¼ì—ì„œëŠ” ì• ë‹ˆë©”ì´ì…˜ ë¹„í™œì„±í™”)
        const isMobile = window.innerWidth <= 1024;

        if (logoImage && !isMobile) {
          logoImage.style.transition =
            "transform 0.3s ease, opacity 0.3s ease, filter 0.3s ease";
          logoImage.style.transform = "rotate(0deg) scale(0.5)";
          logoImage.style.opacity = "0";
        } else if (logoImage) {
          logoImage.style.opacity = "1";
          logoImage.style.transform = "rotate(0deg) scale(1)";
        }

        if (brandText && !isMobile) {
          brandText.style.transition = "transform 0.3s ease, opacity 0.3s ease";
          brandText.style.transform = "translateY(50px)";
          brandText.style.opacity = "0";
        } else if (brandText) {
          brandText.style.opacity = "1";
          brandText.style.transform = "translateY(0px)";
        }

        if (signupCard && !isMobile) {
          signupCard.style.transition =
            "transform 0.3s ease, opacity 0.3s ease";
          signupCard.style.transform = "translateX(100px) scale(0.8)";
          signupCard.style.opacity = "0";
        } else if (signupCard) {
          signupCard.style.opacity = "1";
          signupCard.style.transform = "translateX(0px) scale(1)";
        }

        // í˜ì´ì§€ ë¡œë“œ í›„ ì ì‹œ ë’¤ì— ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
        setTimeout(() => {
          updateScrollAnimations();
        }, 100);
      }
    </script>

    <!-- ì¹´ì¹´ì˜¤ SDK ë¡œë“œ (ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ê¸°ëŠ¥ìš©) -->
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
  </body>
</html>
